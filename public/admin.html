<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BusReserva Admin - Panel de Control</title>
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body style="background-image: linear-gradient(rgba(255, 255, 255, 0.95), rgba(30, 60, 114, 0.1)), url('https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200&q=80'); background-size: cover; background-position: center;">
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar" style="background: linear-gradient(135deg, rgba(30, 60, 114, 0.95) 0%, rgba(15, 31, 60, 0.98) 100%); backdrop-filter: blur(20px); box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3);">
        <div class="sidebar-header">
            <div class="logo" style="color: #ffffff; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); font-weight: 800;">
                <i class="fas fa-bus" style="color: #ffffff; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);"></i>
                <span style="color: #ffffff; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);">BusReserva</span>
            </div>
            <button class="sidebar-toggle" id="sidebarToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <nav class="sidebar-nav">
            <a href="#dashboard" class="nav-item active" data-section="dashboard" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); font-weight: 600;">
                <i class="fas fa-chart-pie" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"></i>
                <span style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);">Dashboard</span>
            </a>
            <a href="#users" class="nav-item" data-section="users" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); font-weight: 600;">
                <i class="fas fa-users" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"></i>
                <span style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);">Usuarios</span>
            </a>
            <a href="#buses" class="nav-item" data-section="buses" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); font-weight: 600;">
                <i class="fas fa-bus" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"></i>
                <span style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);">Autobuses</span>
            </a>
            <a href="#routes" class="nav-item" data-section="routes" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); font-weight: 600;">
                <i class="fas fa-route" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"></i>
                <span style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);">Rutas</span>
            </a>
            <a href="#schedules" class="nav-item" data-section="schedules" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); font-weight: 600;">
                <i class="fas fa-calendar-alt" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"></i>
                <span style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);">Horarios</span>
            </a>
            <a href="#reservations" class="nav-item" data-section="reservations" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); font-weight: 600;">
                <i class="fas fa-ticket-alt" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"></i>
                <span style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);">Reservas</span>
            </a>
            <a href="#analytics" class="nav-item" data-section="analytics" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); font-weight: 600;">
                <i class="fas fa-chart-line" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"></i>
                <span style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);">Analytics</span>
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar" style="background: rgba(255, 255, 255, 0.2); border: 2px solid rgba(255, 255, 255, 0.3);">
                    <i class="fas fa-user-shield" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"></i>
                </div>
                <div class="user-details">
                    <span class="user-name" style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); font-weight: 700;">Administrador</span>
                    <span class="user-role" style="color: rgba(255, 255, 255, 0.9); text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); font-weight: 600;">Super Admin</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent" style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(5px);">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 id="pageTitle">Dashboard</h1>
            </div>
            <div class="header-right">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Buscar...">
                </div>
                <div class="notifications">
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                </div>
                <div class="profile-menu">
                    <button class="profile-btn">
                        <i class="fas fa-user-circle"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon users">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalUsers">0</h3>
                        <p>Total Usuarios</p>
                        <span class="stat-change positive">+12%</span>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon buses">
                        <i class="fas fa-bus"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalBuses">0</h3>
                        <p>Autobuses Activos</p>
                        <span class="stat-change positive">+5%</span>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon reservations">
                        <i class="fas fa-ticket-alt"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalReservations">0</h3>
                        <p>Reservas Hoy</p>
                        <span class="stat-change positive">+8%</span>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon revenue">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalRevenue">€0</h3>
                        <p>Ingresos Mes</p>
                        <span class="stat-change positive">+15%</span>
                    </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Reservas por Mes</h3>
                        <div class="chart-controls">
                            <select id="chartPeriod">
                                <option value="6m">Últimos 6 meses</option>
                                <option value="1y">Último año</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-content">
                        <canvas id="reservationsChart"></canvas>
                    </div>
                </div>

                <div class="recent-activity">
                    <div class="activity-header">
                        <h3>Actividad Reciente</h3>
                        <button class="btn-link">Ver todo</button>
                    </div>
                    <div class="activity-list" id="recentActivity">
                        <!-- Se llena dinámicamente -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Users Section -->
        <section id="users" class="content-section">
            <div class="section-header">
                <h2>Gestión de Usuarios</h2>
                <button class="btn-primary" id="addUserBtn">
                    <i class="fas fa-plus"></i>
                    Nuevo Usuario
                </button>
            </div>
            
            <div class="table-container">
                <div class="table-header">
                    <div class="table-filters">
                        <input type="text" id="userSearch" placeholder="Buscar usuarios...">
                        <select id="userFilter">
                            <option value="">Todos los usuarios</option>
                            <option value="active">Activos</option>
                            <option value="inactive">Inactivos</option>
                        </select>
                    </div>
                </div>
                
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Email</th>
                                <th>Teléfono</th>
                                <th>Fecha Registro</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- Se llena dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Buses Section -->
        <section id="buses" class="content-section">
            <div class="section-header">
                <h2>Gestión de Autobuses</h2>
                <button class="btn-primary" id="addBusBtn">
                    <i class="fas fa-plus"></i>
                    Nuevo Autobús
                </button>
            </div>
            
            <div class="table-container">
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Número</th>
                                <th>Tipo</th>
                                <th>Capacidad</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="busesTableBody">
                            <!-- Se llena dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Routes Section -->
        <section id="routes" class="content-section">
            <div class="section-header">
                <h2>Gestión de Rutas</h2>
                <button class="btn-primary" id="addRouteBtn">
                    <i class="fas fa-plus"></i>
                    Nueva Ruta
                </button>
            </div>
            
            <div class="table-container">
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Origen</th>
                                <th>Destino</th>
                                <th>Distancia</th>
                                <th>Duración</th>
                                <th>Precio</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="routesTableBody">
                            <!-- Se llena dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Schedules Section -->
        <section id="schedules" class="content-section">
            <div class="section-header">
                <h2>Gestión de Horarios</h2>
                <button class="btn-primary" id="addScheduleBtn">
                    <i class="fas fa-plus"></i>
                    Nuevo Horario
                </button>
            </div>
            
            <div class="table-container">
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Ruta</th>
                                <th>Autobús</th>
                                <th>Fecha</th>
                                <th>Hora Salida</th>
                                <th>Asientos Disponibles</th>
                                <th>Precio</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="schedulesTableBody">
                            <!-- Se llena dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Reservations Section -->
        <section id="reservations" class="content-section">
            <div class="section-header">
                <h2>Gestión de Reservas</h2>
                <div class="section-filters">
                    <select id="reservationStatus">
                        <option value="">Todos los estados</option>
                        <option value="confirmada">Confirmadas</option>
                        <option value="pendiente">Pendientes</option>
                        <option value="cancelada">Canceladas</option>
                    </select>
                </div>
            </div>
            
            <div class="table-container">
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Usuario</th>
                                <th>Ruta</th>
                                <th>Fecha Viaje</th>
                                <th>Asiento</th>
                                <th>Total</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="reservationsTableBody">
                            <!-- Se llena dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="content-section">
            <div class="section-header">
                <h2>Analytics y Reportes</h2>
                <div class="analytics-controls">
                    <select id="analyticsRange">
                        <option value="7d">Últimos 7 días</option>
                        <option value="30d">Últimos 30 días</option>
                        <option value="90d">Últimos 90 días</option>
                    </select>
                    <button class="btn-secondary" id="exportReport">
                        <i class="fas fa-download"></i>
                        Exportar
                    </button>
                </div>
            </div>

            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3>Rutas Más Populares</h3>
                    <div class="popular-routes" id="popularRoutes">
                        <!-- Se llena dinámicamente -->
                    </div>
                </div>

                <div class="analytics-card">
                    <h3>Ingresos por Mes</h3>
                    <canvas id="revenueChart"></canvas>
                </div>

                <div class="analytics-card">
                    <h3>Ocupación de Autobuses</h3>
                    <canvas id="occupancyChart"></canvas>
                </div>

                <div class="analytics-card">
                    <h3>Usuarios Nuevos</h3>
                    <canvas id="usersChart"></canvas>
                </div>
            </div>
        </section>
    </div>

    <!-- Modals -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Modal</h3>
                <button class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Contenido dinámico -->
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="admin-app.js"></script>
</body>
</html>